{{! <script src="https://cdn.plaid.com/link/v2/stable/link-initialize.js"></script>
<script
  src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js"
></script>
<script>
  (async ($) => { const fetchLinkToken = async () => { const response = await
  fetch("/create-link-token"); const { linkToken } = await response.json();
  return linkToken; }; const handler = Plaid.create({ token: await
  fetchLinkToken(), onSuccess: async (publicToken, metadata) => {
  console.log(publicToken); console.log(metadata); await
  fetch("/token-exchange", { method: "POST", body: JSON.stringify({ publicToken
  }), headers: { "Content-Type": "application/json", }, }); }, onExit: async
  (error, metadata) => { console.log(error); console.log(metadata); }, onEvent:
  async (metadata) => { console.log(metadata); }, });
  $("#plaid-button").on("click", function (e) { handler.open(); }); })(jQuery);
</script> }}

<title>Budget Tracker - Home</title>

<head>
  <!-- Font Awesome -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    rel="stylesheet"
  />
  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    rel="stylesheet"
  />
  <!-- MDB -->
  <link
    href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.6.0/mdb.min.css"
    rel="stylesheet"
  />
</head>

<head>
  <meta charset="utf-8" />
  <meta content="width=device-width, initial-scale=1.0" name="viewport" />

  <meta content="" name="description" />
  <meta content="" name="keywords" />

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon" />
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon" />

  <!-- Google Fonts -->
  <link
    href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Raleway:300,300i,400,400i,500,500i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i"
    rel="stylesheet"
  />

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/aos/aos.css" rel="stylesheet" />
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet" />
  <link
    href="assets/vendor/bootstrap-icons/bootstrap-icons.css"
    rel="stylesheet"
  />
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet" />
  <link href="assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet" />
  <link href="assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet" />

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet" />

</head>

<nav class="navbar fixed-top navbar-expand-lg navbar-light bg-light">
  <div class="container-fluid">
    <a class="navbar-brand" href="/home"><strong>Budget </strong>
      Tracker</a>
    <button
      class="navbar-toggler"
      type="button"
      data-bs-toggle="collapse"
      data-bs-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent"
      aria-expanded="false"
      aria-label="Toggle navigation"
    >
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav me-auto mb-2 mb-lg-0">

      </ul>

      <a class="nav-link" href="/transaction_history">Transactions</a>
      <a class="nav-link" href="/investment_profile">Investments</a>
      <a class="nav-link" href="/profile">Account</a>
    </div>
  </div>
</nav>

<section>

  <div class="container">
    <div class="row">
      <div class="justify-content-center" data-aos="fade-up"><div>
          <div
            class="row"
            style="margin-left:0%;margin-right:0%;margin-top:-2px;"
          >
            <!-- Sidebar/menu -->

            <style>
              .container .box { width:100%;margin:0%; height:0%;display:table; }
              .container .box .box-row { display:table-row; height:0%}
              .container .box .box-cell { display:table-cell; width:85px;
              height: 0%;padding:0px; } .container .box .box-cell.box1 {
              background:rgb(240, 240, 240); color:black; text-align:justify; }
              .container .box .box-cell.box2 { background:rgb(240, 240, 240);
              text-align:justify } .container .box .box-cell.box3 {
              background:rgb(240, 240, 240); text-align:justify; }
            </style>
            <style>
              .right { text-align: right; border: 3px solid green; }
            </style>
            <div class="container">
              <div class="box" style="margin-bottom: 0px;">
                <div class="box-row">
                  <p></p>
                  <div class="box-cell box1">

                  </div>
                  <style>.box{ display: flex; justify-content: right;
                    align-items: right; } .section-title{ padding-bottom: 0px;
                    margin-bottom: 0px;}
                  </style>
                  <div class="section-title box" data-aos="fade-up">
                    <h2 style="text-align: center; font-size: 20px;">{{user}}'s
                      Budget</h2>
                  </div>

                  <div class="box-cell box3">

                    <img
                      src="data:image/jpeg;base64,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"
                      class="w3-circle"
                      style="width:25px"
                    />
                    <span><a style="color: black" href="/profile">Log In</a></span>

                  </div>
                </div>
              </div>
              <hr style="margin-top: 0;" />
            </div>

            <style>.card { padding-left: 20px; padding-right: 20px; box-shadow:
              0 0px 10px 0 rgb(147, 145, 148); background-color: rgba(206, 206,
              206, 0.212)!important; transition: 0.3s;}</style>
            {{! Budget Overview }}
            <div
              class="col-xxxl-3 col-sm-50% col-12 mb-2"
              style="margin-bottom: 0px; padding-bottom: 0px;"
            >

              <div class="card text-black bg-light mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between px-md-1">
                    <div>
                      <h3 class="text-{{budget_text_color}}">Budget Overview-
                        {{month}}
                        2021</h3>
                      <p class="mb-0">Total Budget Goal: {{desired_balance}}</p>
                      <p class="mb-0">Spent: {{actual_balance}}</p>
                      <p class="mb-0">Remaining: {{remaining_balance}}</p>
                      {{! <p class="mb-0">Total</p> }}
                    </div>
                    <div class="align-self-center">
                      {{! <i class="fas fa-money text-success fa-3x"></i> }}
                    </div>
                  </div>
                  <div class="px-md-1">
                    <div
                      class="progress position-relative mt-3 mb-1 rounded"
                      style="height: 17px"
                    >
                      <div
                        class="progress-bar bg-{{budget_text_color}}"
                        role="progressbar"
                        style="width: {{percent_spent_balance}}%"
                        aria-valuenow="{{percent_spent_balance}}"
                        aria-valuemin="0"
                        aria-valuemax="100"
                      > {{percent_spent_balance}}% Spent</div>

                    </div>
                    <hr />
                    <div id="chartdiv"></div>
                    {{! <div id="chartdiv"></div> }}
                  </div>
                </div>
              </div>
            </div>

            {{! <footer style="text-align: center;"><strong>Instructions:
              </strong></footer> }}
            <footer style="text-align: center;">Current budget goals were
              calculated using your monthly spending habits.</footer>
            <footer
              style="text-align: center; padding-bottom:20px; margin-top:0px"
            >To edit goals, type desired amount, without commas, then press enter for each category below:</footer>

            {{! FOOD }}
            <div class="col-xxxl-3 col-sm-6 col-12 mb-4">
              <div class="card text-black bg-light mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between px-md-1">
                    <div>
                      <h4
                        class="text-{{food_text_color}}"
                        style="margin-bottom: 15px;"
                      >Food</h4>
                      <form method="POST" style="margin-bottom: 0px;">
                        <div class="row g-3 align-items-center">
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; margin-bottom: -5px; padding-right: 0px"
                          >
                            <label
                              style="color: black;"
                              for="inputPassword6"
                              class="col-form-label"
                            >Budget Goal:</label>
                          </div>
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; padding-left: 2px"
                          >
                            <input
                              type="text"
                              name="desiredFood"
                              id="desiredFood"
                              class="form-control"
                              placeholder="{{desired_food}}"
                              style="text-align: center; width:50%; height:25px;"
                              aria-describedby="passwordHelpInline"
                            />
                          </div>
                        </div>
                      </form>
                      {{!-- <p class="mb-0" id="texty">Budget Goal:
                        {{desired_food}}</p> --}}
                      <p class="mb-0">Spent: {{actual_food}}</p>
                      <p class="mb-0">Remaining: {{remaining_food}}</p>
                    </div>
                    <div class="align-self-center">
                      <i
                        class="fas fa-mug-hot text-{{food_text_color}} fa-3x"
                      ></i>
                    </div>
                  </div>

                  <div class="px-md-1">
                    <div
                      class="progress mt-3 mb-1 rounded"
                      style="height: 13px; box-shadow: inset 0 0 0 0.2px black !important;background-color: white !important;"
                    >
                      <div
                        class="progress-bar bg-{{food_text_color}}"
                        role="progressbar"
                        style="width: {{percent_spent_food}}%; font-size: 10px;"
                        aria-valuenow="{{percent_spent_food}}"
                        aria-valuemin="0"
                        aria-valuemax="100"
                      >{{percent_spent_food}}%</div>
                    </div>
                    <hr />
                    {{! <div id="food" style="width: 100%; height: 100%"></div> }}
                    <p></p>
                    <div class="dropdown">
                      <button
                        class="btn btn-secondary btn-sm dropdown-toggle btn-light"
                        type="button"
                        id="dropdownMenuButton1"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                      >
                        View Transactions
                      </button>
                      <ul
                        class="dropdown-menu dropdown-menu-dark"
                        aria-labelledby="dropdownMenuButton1"
                      >
                        {{#each food_transactions}}
                          <li><a class="dropdown-item" href="#">{{date}}
                              -
                              {{name}}
                              - ${{amount}}</a></li>
                          <li><hr class="dropdown-divider" /></li>
                        {{/each}}
                      </ul>
                    </div>

                  </div>

                </div>

              </div>
            </div>

            {{! TRANSPORTATION }}
            <div class="col-xxxl-3 col-sm-6 col-12 mb-4">
              <div class="card text-black bg-light mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between px-md-1">
                    <div>
                      <h4
                        class="text-{{trans_text_color}}"
                        style="margin-bottom: 15px;"
                      >Transportation</h4>
                      <form method="POST" style="margin-bottom: 0px;">
                        <div class="row g-3 align-items-center">
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; margin-bottom: -5px; padding-right: 0px"
                          >
                            <label
                              style="color: black;"
                              for="inputPassword6"
                              class="col-form-label"
                            >Budget Goal:</label>
                          </div>
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; padding-left: 2px"
                          >
                            <input
                              type="text"
                              name="desiredTransportation"
                              id="desiredTransportation"
                              class="form-control"
                              placeholder="{{desired_transportation}}"
                              style="text-align: center; width:50%; height:25px;"
                              aria-describedby="passwordHelpInline"
                            />
                          </div>
                        </div>
                      </form>
                      <p class="mb-0">Spent: {{actual_transportation}}</p>
                      <p class="mb-0">Remaining:
                        {{remaining_transportation}}</p>
                    </div>
                    <div class="align-self-center">
                      <i class="fas fa-car text-{{trans_text_color}} fa-3x"></i>
                    </div>
                  </div>
                  <div class="px-md-1">
                    <div
                      class="progress mt-3 mb-1 rounded"
                      style="height: 13px; box-shadow: inset 0 0 0 0.2px black !important;background-color: white !important;"
                    >
                      <div
                        class="progress-bar bg-{{trans_text_color}}"
                        role="progressbar"
                        style="width: {{percent_spent_trans}}%; font-size: 10px;"
                        aria-valuenow="{{percent_spent_trans}}"
                        aria-valuemin="0"
                        aria-valuemax="100"
                      >{{percent_spent_trans}}%</div>
                    </div>
                    <hr />
                    {{! <div id="transportation" style="width: 100%; height: 100%"></div> }}
                    <p></p>
                    <div class="dropdown">
                      <button
                        class="btn btn-secondary btn-sm dropdown-toggle btn-light"
                        type="button"
                        id="dropdownMenuButton1"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                      >
                        View Transactions
                      </button>
                      <ul
                        class="dropdown-menu dropdown-menu-dark"
                        aria-labelledby="dropdownMenuButton1"
                      >
                        {{#each transportation_transactions}}
                          <li><a class="dropdown-item" href="#">{{date}}
                              -
                              {{name}}
                              - ${{amount}}</a></li>
                          <li><hr class="dropdown-divider" /></li>
                        {{/each}}
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {{! SHOPPING }}
            <div class="col-xxxl-3 col-sm-6 col-12 mb-4">
              <div class="card text-black bg-light mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between px-md-1">
                    <div>
                      <h4
                        class="text-{{shopping_text_color}}"
                        style="margin-bottom: 15px;"
                      >Shopping</h4>
                      <form method="POST" style="margin-bottom: 0px;">
                        <div class="row g-3 align-items-center">
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; margin-bottom: -5px; padding-right: 0px"
                          >
                            <label
                              style="color: black;"
                              for="inputPassword6"
                              class="col-form-label"
                            >Budget Goal:</label>
                          </div>
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; padding-left: 2px"
                          >
                            <input
                              type="text"
                              name="desiredShopping"
                              id="desiredShopping"
                              class="form-control"
                              placeholder="{{desired_shopping}}"
                              style="text-align: center; width:50%; height:25px;"
                              aria-describedby="passwordHelpInline"
                            />
                          </div>
                        </div>
                      </form>
                      <p class="mb-0">Spent: {{actual_shopping}}</p>
                      <p class="mb-0">Remaining: {{remaining_shopping}}</p>
                    </div>
                    <div class="align-self-center">
                      <i
                        class="fas fa-wallet text-{{shopping_text_color}} fa-3x"
                      ></i>
                    </div>
                  </div>
                  <div class="px-md-1">
                    <div
                      class="progress mt-3 mb-1 rounded"
                      style="height: 13px; box-shadow: inset 0 0 0 0.2px black !important;background-color: white !important;"
                    >
                      <div
                        class="progress-bar bg-{{shopping_text_color}}"
                        role="progressbar"
                        style="width: {{percent_spent_shopping}}%; font-size: 10px;"
                        aria-valuenow="{{percent_spent_shopping}}"
                        aria-valuemin="0"
                        aria-valuemax="100"
                      >{{percent_spent_shopping}}%</div>
                    </div>
                    <hr />
                    {{! <div id="shopping" style="width: 100%; height: 100%"></div> }}
                    <p></p>
                    <div class="dropdown">
                      <button
                        class="btn btn-secondary btn-sm dropdown-toggle btn-light"
                        type="button"
                        id="dropdownMenuButton1"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                      >
                        View Transactions
                      </button>
                      <ul
                        class="dropdown-menu dropdown-menu-dark"
                        aria-labelledby="dropdownMenuButton1"
                      >
                        {{#each shopping_transactions}}
                          <li><a class="dropdown-item" href="#">{{date}}
                              -
                              {{name}}
                              - ${{amount}}</a></li>
                          <li><hr class="dropdown-divider" /></li>
                        {{/each}}
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {{! ENTERTAINMENT }}
            <div class="col-xxxl-3 col-sm-6 col-12 mb-4">
              <div class="card text-black bg-light mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between px-md-1">
                    <div>
                      <h4
                        class="text-{{ent_text_color}}"
                        style="margin-bottom: 15px;"
                      >Entertainment</h4>
                      <form method="POST" style="margin-bottom: 0px;">
                        <div class="row g-3 align-items-center">
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; margin-bottom: -5px; padding-right: 0px"
                          >
                            <label
                              style="color: black;"
                              for="inputPassword6"
                              class="col-form-label"
                            >Budget Goal:</label>
                          </div>
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; padding-left: 2px"
                          >
                            <input
                              type="text"
                              name="desiredEntertainment"
                              id="desiredEntertainment"
                              class="form-control"
                              placeholder="{{desired_entertainment}}"
                              style="text-align: center; width:50%; height:25px;"
                              aria-describedby="passwordHelpInline"
                            />
                          </div>
                        </div>
                      </form>
                      <p class="mb-0">Spent: {{actual_entertainment}}</p>
                      <p class="mb-0">Remaining: {{remaining_entertainment}}</p>
                    </div>
                    <div class="align-self-center">
                      <i class="fas fa-tv text-{{ent_text_color}} fa-3x"></i>
                    </div>
                  </div>
                  <div class="px-md-1">
                    <div
                      class="progress mt-3 mb-1 rounded"
                      style="height: 13px; box-shadow: inset 0 0 0 0.2px black !important;background-color: white !important;"
                    >
                      <div
                        class="progress-bar bg-{{ent_text_color}}"
                        role="progressbar"
                        style="width: {{percent_spent_ent}}%; font-size: 10px;"
                        aria-valuenow="{{percent_spent_ent}}"
                        aria-valuemin="0"
                        aria-valuemax="100"
                      >{{percent_spent_ent}}%</div>
                    </div>
                    <hr />
                    {{! <div id="entertainment" style="width: 100%; height: 100%"></div> }}
                    <p></p>
                    <div class="dropdown">
                      <button
                        class="btn btn-secondary btn-sm dropdown-toggle btn-light"
                        type="button"
                        id="dropdownMenuButton1"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                      >
                        View Transactions
                      </button>
                      <ul
                        class="dropdown-menu dropdown-menu-dark"
                        aria-labelledby="dropdownMenuButton1"
                      >
                        {{#each entertainment_transactions}}
                          <li><a class="dropdown-item" href="#">{{date}}
                              -
                              {{name}}
                              - ${{amount}}</a></li>
                          <li><hr class="dropdown-divider" /></li>
                        {{/each}}
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {{! PAYMENTS }}
            <div class="col-xxxl-3 col-sm-6 col-12 mb-4">
              <div class="card text-black bg-light mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between px-md-1">
                    <div>
                      <h4
                        class="text-{{payments_text_color}}"
                        style="margin-bottom: 15px;"
                      >Payments</h4>
                      <form method="POST" style="margin-bottom: 0px;">
                        <div class="row g-3 align-items-center">
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; margin-bottom: -5px; padding-right: 0px"
                          >
                            <label
                              style="color: black;"
                              for="inputPassword6"
                              class="col-form-label"
                            >Budget Goal:</label>
                          </div>
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; padding-left: 2px"
                          >
                            <input
                              type="text"
                              name="desiredPayments"
                              id="desiredPayments"
                              class="form-control"
                              placeholder="{{desired_payments}}"
                              style="text-align: center; width:50%; height:25px;"
                              aria-describedby="passwordHelpInline"
                            />
                          </div>
                        </div>
                      </form>
                      <p class="mb-0">Spent: {{actual_payments}}</p>
                      <p class="mb-0">Remaining: {{remaining_payments}}</p>
                    </div>
                    <div class="align-self-center">
                      <i
                        class="fas fa-bank text-{{payments_text_color}} fa-3x"
                      ></i>
                    </div>
                  </div>
                  <div class="px-md-1">
                    <div
                      class="progress mt-3 mb-1 rounded"
                      style="height: 13px; box-shadow: inset 0 0 0 0.2px black !important;background-color: white !important;"
                    >
                      <div
                        class="progress-bar bg-{{payments_text_color}}"
                        role="progressbar"
                        style="width: {{percent_spent_payments}}%; font-size: 10px;"
                        aria-valuenow="{{percent_spent_payments}}"
                        aria-valuemin="0"
                        aria-valuemax="100"
                      >{{percent_spent_payments}}%</div>
                    </div>
                    <hr />
                    {{! <div id="payments" style="width: 100%; height: 100%"></div> }}
                    <p></p>
                    <div class="dropdown">
                      <button
                        class="btn btn-secondary btn-sm dropdown-toggle btn-light"
                        type="button"
                        id="dropdownMenuButton1"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                      >
                        View Transactions
                      </button>
                      <ul
                        class="dropdown-menu dropdown-menu-dark"
                        aria-labelledby="dropdownMenuButton1"
                      >
                        {{#each payments_transactions}}
                          <li><a class="dropdown-item" href="#">{{date}}
                              -
                              {{name}}
                              - ${{amount}}</a></li>
                          <li><hr class="dropdown-divider" /></li>
                        {{/each}}
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            {{! Travel }}
            <div class="col-xxxl-3 col-sm-6 col-12 mb-4">
              <div class="card text-black bg-light mb-3">
                <div class="card-body">
                  <div class="d-flex justify-content-between px-md-1">
                    <div>
                      <h4
                        class="text-{{travel_text_color}}"
                        style="margin-bottom: 15px;"
                      >Travel</h4>
                      <form method="POST" style="margin-bottom: 0px;">
                        <div class="row g-3 align-items-center">
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; margin-bottom: -5px; padding-right: 0px"
                          >
                            <label
                              style="color: black;"
                              for="inputPassword6"
                              class="col-form-label"
                            >Budget Goal:</label>
                          </div>
                          <div
                            class="col-auto"
                            style="margin-left: 0px; padding-top: 0px; margin-top: 0px; padding-left: 2px"
                          >
                            <input
                              type="text"
                              name="desiredTravel"
                              id="desiredTravel"
                              class="form-control"
                              placeholder="{{desired_travel}}"
                              style="text-align: center; width:50%; height:25px;"
                              aria-describedby="passwordHelpInline"
                            />
                          </div>
                        </div>
                      </form>
                      <p class="mb-0">Spent: {{actual_travel}}</p>
                      <p class="mb-0">Remaining: {{remaining_travel}}</p>
                    </div>
                    <div class="align-self-center">
                      <i
                        class="fas fa-plane text-{{travel_text_color}} fa-3x"
                      ></i>
                    </div>
                  </div>
                  <div class="px-md-1">
                    <div
                      class="progress mt-3 mb-1 rounded"
                      style="height: 13px; box-shadow: inset 0 0 0 0.2px black !important;background-color: white !important;"
                    >
                      <div
                        class="progress-bar bg-{{travel_text_color}}"
                        role="progressbar"
                        style="width: {{percent_spent_travel}}%; font-size: 10px;"
                        aria-valuenow="{{percent_spent_travel}}"
                        aria-valuemin="0"
                        aria-valuemax="100"
                      >{{percent_spent_travel}}%</div>
                    </div>
                    <hr />
                    {{! <div id="payments" style="width: 100%; height: 100%"></div> }}
                    <p></p>
                    <div class="dropdown">
                      <button
                        class="btn btn-secondary btn-sm dropdown-toggle btn-light"
                        type="button"
                        id="dropdownMenuButton1"
                        data-bs-toggle="dropdown"
                        aria-expanded="false"
                      >
                        View Transactions
                      </button>
                      <ul
                        class="dropdown-menu dropdown-menu-dark"
                        aria-labelledby="dropdownMenuButton1"
                      >
                        {{#each travel_transactions}}
                          <li><a class="dropdown-item" href="#">{{date}}
                              -
                              {{name}}
                              - ${{amount}}</a></li>
                          <li><hr class="dropdown-divider" /></li>
                        {{/each}}
                      </ul>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <footer
              style="text-align: left; padding-bottom:5px; padding-left:50px"
            ><strong>
                - Legend -
              </strong></footer>
            <br />
            <div class="progress rounded" style="width: 100px;">
              <div
                class="progress-bar bg-success"
                role="progressbar"
                style="width: 50%;"
                aria-valuenow="20"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
            <span>less than 80% spent</span>
            <div class="progress rounded" style="width: 100px;">
              <div
                class="progress-bar bg-warning"
                role="progressbar"
                style="width: 80%;"
                aria-valuenow="80"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
            <span>80% or more spent</span>

            <div class="progress rounded" style="width: 100px;">
              <div
                class="progress-bar bg-danger"
                role="progressbar"
                style="width: 100%;"
                aria-valuenow="100"
                aria-valuemin="0"
                aria-valuemax="100"
              ></div>
            </div>
            <span>Over budget, 100% spent</span>
          </div>

          {{! <br />
          <br />
          <br />
          <footer style="text-align: center;"><strong>Instructions:
            </strong></footer>
          <footer>Current budget goals were determined using an average of your
            monthly spending, minus outliers, in each budget category.</footer>
          <footer>To edit budget goals, please type in desired amount, without
            commas, for each category below:</footer> }}
          <br />
          <style>
            input[type=text], select { width:75%; padding: 0% 0px; margin:0%;
            display: inline-block; border: 1px solid #ccc; border-radius: 4px;
            box-sizing: border-box; } #Submit { visibility: hidden; }
          </style>

          <a href="/transaction_history" class="w3-button w3-dark-grey">View all
            transactions for this account
            <i class="fa fa-arrow-right"></i></a>

        </div>
      </div>

    </div>
  </div>

</section>

<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />
<br />

<a
  href="#"
  class="back-to-top d-flex align-items-center justify-content-center"
><i class="bi bi-arrow-up-short"></i></a>

<!-- Vendor JS Files -->
<script src="assets/vendor/aos/aos.js"></script>
<script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
<script src="assets/vendor/glightbox/js/glightbox.min.js"></script>
<script src="assets/vendor/isotope-layout/isotope.pkgd.min.js"></script>
<script src="assets/vendor/php-email-form/validate.js"></script>
<script src="assets/vendor/swiper/swiper-bundle.min.js"></script>

<!-- Template Main JS File -->
<script src="assets/js/main.js"></script>


{{! To-Do: move these scripts to their respective js files }}
{{!-- <script type="text/javascript">
  var foodArray = []; var foodObject = {};
  var d = new Date(); var i = 0;
  transactionsID = document.getElementById("foodTransactionsID");
  transactionsID.innerHTML = " ";
  {{#each food_transactions}}
    foodObject = {date: '{{date}}', name: '{{name}}', amount: '{{amount}}'}; foodArray.push(foodObject);
    if(parseInt(foodArray[i].date.substring(5, 7)) > (d.getMonth() + 1) - 1) {
      transactionsID.innerHTML += "<li><a class='dropdown-item' href='#'>" + foodArray[i].date + " - " +
      foodArray[i].name + " - $" + foodArray[i].amount + "</a></li><li><hr class='dropdown-divider' /></li>"; }
    i++;
  {{/each}}
</script> --}}

{{!-- <script type="text/javascript">
    var d = new Date();
    transactionsID = document.getElementById("foodTransactionsID");
      transactionsID.innerHTML = " "; for (var i = 0; i < foodArray.length; i++) { if(
      parseInt(foodArray[i].date.substring(5, 7)) > (d.getMonth() + 1) - 1) {
      transactionsID.innerHTML += "<li><a class='dropdown-item' href='#'>" + foodArray[i].date + " - " +
      foodArray[i].name + " - $" + foodArray[i].amount + "</a></li><li><hr class='dropdown-divider' /></li>"; } }

</script> --}}




{{! <p>Budget Profile, Investment Profile, and Transaction History will be available
  upon successful connection to your bank account.</p> }}

{{!-- <div class="w3-row-padding w3-margin-bottom">
  <div class="w3-quarter">
    <div class="w3-container w3-red w3-padding-16">
      <div class="w3-left"><i class="fa fa-money w3-xlarge"></i></div>
      <div class="w3-right">
        {{! <h3>52</h3> }}
      </div>
      <a href="/budget_profile" class="w3-clear"></a>
      <h4>Budget Profile</h4>
    </div>
  </div>
  <div class="w3-quarter">
    <div class="w3-container w3-teal w3-padding-16">
      <div class="w3-left"><i class="fa fa-history w3-xlarge"></i></div>
      <div class="w3-right">
        {{! <h3>23</h3> }}
      </div>
      <a href="/transaction_history" class="w3-clear"></a>
      <h4>Transaction History</h4>
    </div>
  </div>
  <div class="w3-quarter">
    <div class="w3-container w3-blue w3-padding-16">
      <div class="w3-left"><i class="fa fa-bank w3-xlarge"></i></div>
      <div class="w3-right">
        {{! <h3>99</h3> }}
      </div>
      <a href="/investment_profile" class="w3-clear"></a>
      <h4>Investment Profile</h4>
    </div>
  </div>
  <div class="w3-quarter">
    <div class="w3-container w3-orange w3-text-white w3-padding-16">
      <div class="w3-left"><i class="fa fa-cog w3-xlarge"></i></div>
      <div class="w3-right">
        {{! <h3>50</h3> }}
      </div>
      <a href="/account_settings" class="w3-clear"></a>
      <h4>Account Settings</h4>
    </div>
  </div>
</div> --}}

<script
  type="text/javascript"
  src="https://www.gstatic.com/charts/loader.js"
></script>

<!-- Styles -->
<style>
  #chartdiv { width: 100%; height: 150px; color:#f44c36}
</style>

<!-- Chart code -->
<script>
  am4core.ready(function() { // Themes begin
  am4core.useTheme(am4themes_material); am4core.useTheme(am4themes_animated);
  var chart = am4core.create("chartdiv", am4charts.PieChart); chart.data = [
  {"category": "Food", "dollars":
  {{food_pie}}
  }, { "category": "Entertainment", "dollars":
  {{entertainment_pie}}
  },{ "category": "Transportation", "dollars":
  {{transportation_pie}}
  }, { "category": "Shopping", "dollars":
  {{shopping_pie}}
  }, { "category": "Payments", "dollars":
  {{payments_pie}}
  }, { "category": "Travel", "dollars":
  {{travel_pie}}
  },]; var pieSeries = chart.series.push(new am4charts.PieSeries());
  pieSeries.dataFields.value = "dollars"; pieSeries.labels.template.fill =
  am4core.color("black"); pieSeries.dataFields.category = "category";
  pieSeries.colors.list = [ am4core.color("#f44c36"), am4core.color("#e91e73"),
  am4core.color("#9c27b0"), am4core.color("#673ab7"), am4core.color("#3f51b5"),
  am4core.color("#2196f3"), ]; chart.responsive.enabled = true;
  chart.responsive.rules.push({ relevant: function(target) { if
  (target.pixelWidth > 423) {pieSeries.fontSize = 14; return true; } else if
  (target.pixelWidth < 300 && target.pixelWidth > 220) {pieSeries.fontSize = 5;
  return true; } else if (target.pixelWidth < 220) {return false; } else
  {pieSeries.fontSize = 10; labelState.properties.disabled = false; return
  false;} }, state: function(target, stateId) { if (target instanceof
  am4charts.PieSeries) { var state = target.states.create(stateId); var
  labelState = target.labels.template.states.create(stateId);
  labelState.properties.disabled = false; var tickState =
  target.ticks.template.states.create(stateId); tickState.properties.disabled =
  false; return state; } return null; } }); pieSeries.slices.template.stroke =
  am4core.color("lightgrey"); pieSeries.slices.template.strokeWidth = 2;
  pieSeries.slices.template.strokeOpacity = 1;
  pieSeries.hiddenState.properties.opacity = 1;
  pieSeries.hiddenState.properties.endAngle = -90;
  pieSeries.hiddenState.properties.startAngle = -90; }); am4core.ready()
</script>